---
const API_KEY = "739987c633f044bd9b2123525250703";
const city = "Granada"; // Luego cambiaremos esto por coordenadas
---

<div id="weather" class="bg-white shadow-md rounded p-4 text-center">
  <p>Cargando datos del clima...</p>
</div>

<script is:inline>
  async function fetchWeather() {
    try {
      const response = await fetch(`https://api.weatherapi.com/v1/current.json?key=${API_KEY}&q=${city}&aqi=no`).then(res => res.json());
      const data = await response.json();
      console.log(response);
    } catch (error) {
      console.error("Error obteniendo datos del clima:", error);
    }
  }

  fetchWeather();
</script>