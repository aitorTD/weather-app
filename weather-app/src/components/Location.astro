---
const API_KEY = "";
const city = "Granada"; // Puedes hacer esto dinámico si lo deseas

// Hacer la petición a la API
const response = await fetch(`https://api.weatherapi.com/v1/current.json?key=${API_KEY}&q=${city}&aqi=no`);
const data = await response.json();

// Verificar si los datos están llegando correctamente
// console.log("Datos de la API:", data);

// Verificar si estamos recibiendo los datos correctamente
const weatherData = data && data.current && {
  city: data.location.name,
  country: data.location.country,
  temp: data.current.temp_c,
  feelsLike: data.current.feelslike_c,
  humidity: data.current.humidity,
  condition: data.current.condition.text,
  icon: data.current.condition.icon,
};

// Exportamos los datos para ser utilizados en otras partes
export { weatherData };
---